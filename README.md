# Социальная сеть для путешественников - System Design
Домашняя работа для курса [System Design](https://balun.courses/courses/system_design)


### Функциональные требования

- Аутентификация
- У пользователя есть личная лента с его постами
- Пост содержит фото, текст, привязку к конкретному месту
- Пост можно оценивать и комментировать
- Просмотр ленты с постами других пользователей
- Подписка на других пользователей
- Лента с контентом от пользователей, на которых оформлена подписка
Посты будут динамически подгружаться порционно по 10 штук, на порядок влияет
рейтинг места и дата загрузки.
- Рейтинг мест по странам и городам
- Поисковая строка по популярным местам для путешествий, просмотр постов с этих мест в виде топа мест по странам и городам
- Личные сообщения

### Нефункциональные требования

- 50000 DAU
- 20 запросов в день, в среднем, от одного пользователя на чтение,
2 запроса на запись.
- Аудитория СНГ
- В период осени и предновогодних распродаж ожидается повышенная нагрузка,
DAU - 70000, запросы на запись - 5, на чтение - 30.
- Данные храним всегда
- Лимит подписчиков у пользователя - 1000000
- Сообщения должны доходит до адресата за 5 секунд
- Availability 99.9%

### Оценка нагрузки

Пусть максимальный вес фото будет 8мб,
Текст имеет ограничение в 200 символов, в худшем случае, символ весит 4 байта, тогда 200*4=800байт,
Информация о месте имеет ограничение в 50 символов, разрешаем только кириллицу и латиницу, тогда 50*2=100байт,
Число одновременных пользователей онлайн, в среднем, составляет около 10% от DAU.

- default RPS(read) = 50000 * 20 / 86400 ~= 12
- default RPS(write) = 50000 * 2 / 86400 ~= 2
- seasonal RPS(read) = 70000 * 30 / 86400 ~= 25
- seasonal RPS(write) = 70000 * 5 / 86400 ~= 5

- default Traffic(read) = 12 * (8000000 + 800 + 100) ~= 96мб/с
- default Traffic(write) = 2 * (8000000 + 800 + 100) ~= 16мб/с
- seasonal Traffic(read) = 25 * (8000000 + 800 + 100) ~= 201мб/с
- seasonal Traffic(write) = 5 * (8000000 + 800 + 100) ~= 40мб/с

- default Connections = 50000 * 0.1 = 5000
- seasonal Connections = 70000 * 0.1 = 7000
